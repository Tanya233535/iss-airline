<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru" th:replace="~{layout :: layout(~{::body})}">
<body th:with="pageTitle=${aircraft?.aircraftCode == null ? 'Добавить самолёт' : 'Редактировать самолёт'}">
<div class="form-container">
    <h1 th:text="${aircraft?.aircraftCode == null ? 'Добавить самолёт' : 'Редактировать самолёт'}"></h1>


    <form th:action="@{/aircrafts}" th:object="${aircraft}" method="post" th:if="${aircraft != null}">
        <label>Код самолёта:</label>
        <input type="text" th:field="*{aircraftCode}" maxlength="10" required th:readonly="${aircraft.aircraftCode != null}" /> <!-- readonly для edit -->

        <label>Модель:</label>
        <input type="text" th:field="*{model}" maxlength="50" required />

        <label>Год выпуска:</label>
        <input type="number" th:field="*{manufactureYear}" />

        <label>Вместимость:</label>
        <input type="number" th:field="*{capacity}" min="1" required />

        <label>Статус:</label>
        <select th:field="*{status}">
            <option value="ACTIVE">Активен</option>
            <option value="MAINTENANCE">На обслуживании</option>
            <option value="RETIRED">Списан</option>
        </select>

        <label>Дата последнего ТО:</label>
        <input type="date" th:field="*{lastMaintenanceDate}" />

        <label>Налёт (часы):</label>
        <input type="number" th:field="*{totalFlightHours}" min="0" />

        <button type="submit">Сохранить</button>
    </form>

    <a th:href="@{/aircrafts}">← Назад к списку</a>
</div>
</body>
</html>